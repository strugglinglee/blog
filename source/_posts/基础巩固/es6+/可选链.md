---
title: 理解可选链
date: 2020-09-23 11:25:27
tags:
- es6+
categories:
- 基础巩固
- es6+
---

之前我们访问可能不存在的对象属性，通常会使用这样的方法

```
let nestedProp = obj.first && obj.first.second;
```
可选链可以简化这样的写法，下面我们来了解一下什么是可选链

### 可选链操作符 `?.`
1.允许读取位于链接对象链深处的属性的值
2.不必明确验证链中每个引用是否有效
3.类似于.链式操作符，不同之处在于，在引用为空（null/undefined）的情况下不会因其错误，该表达式短路返回值式undefined
4.与函数调用一起使用时，如果给定的函数不存在，则返回undefined

### 常用写法
通过连接的对象的引用或函数可能是 undefined 或 null 时，可选链操作符提供了一种方法来简化被连接对象的值访问。

### 可选链与函数调用
函数调用时如果被调用的方法不存在，使用可选链可以使表达式自动返回undefined而不是抛出一个异常

```
let result=someInterface.customMethod?()
```

### 可选链不能用于赋值
~~object?.property=1~~

### 连用可选链操作符
let duration=vacations.trip?.getTime?.()

### 使用空置合并操作符
```
let customer = {
  name: "Carl",
  details: { age: 82 }
};
let customerCity = customer?.city ?? "暗之城";
console.log(customerCity); // “暗之城”
```
